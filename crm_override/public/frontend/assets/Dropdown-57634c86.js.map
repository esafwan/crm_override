{"version":3,"file":"Dropdown-57634c86.js","sources":["../../../../frontend/src/components/frappe-ui/Dropdown.vue"],"sourcesContent":["<template>\n  <Menu as=\"div\" class=\"relative inline-block text-left\" v-slot=\"{ open }\">\n    <Popover\n      :transition=\"dropdownTransition\"\n      :show=\"open\"\n      :placement=\"popoverPlacement\"\n    >\n      <template #target=\"{ togglePopover }\">\n        <MenuButton as=\"template\">\n          <slot v-if=\"$slots.default\" v-bind=\"{ open, togglePopover }\" />\n          <Button v-else :active=\"open\" v-bind=\"button\">\n            {{ button ? button?.label || null : 'Options' }}\n          </Button>\n        </MenuButton>\n      </template>\n\n      <template #body>\n        <div\n          class=\"rounded-lg bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n          :class=\"{\n            'mt-2': ['bottom', 'left', 'right'].includes(placement),\n            'ml-2': placement == 'right-start',\n          }\"\n        >\n          <MenuItems\n            class=\"min-w-40 divide-y divide-gray-100\"\n            :class=\"{\n              'left-0 origin-top-left': placement == 'left',\n              'right-0 origin-top-right': placement == 'right',\n              'inset-x-0 origin-top': placement == 'center',\n              'mt-0 origin-top-right': placement == 'right-start',\n            }\"\n          >\n            <div v-for=\"group in groups\" :key=\"group.key\" class=\"p-1.5\">\n              <div\n                v-if=\"group.group && !group.hideLabel\"\n                class=\"flex h-7 items-center px-2 text-sm font-medium text-gray-500\"\n              >\n                {{ group.group }}\n              </div>\n              <MenuItem\n                v-for=\"item in group.items\"\n                :key=\"item.label\"\n                v-slot=\"{ active }\"\n              >\n                <slot name=\"item\" v-bind=\"{ item, active }\">\n                  <component\n                    v-if=\"item.component\"\n                    :is=\"item.component\"\n                    :active=\"active\"\n                  />\n                  <button\n                    v-else\n                    :class=\"[\n                      active ? 'bg-gray-100' : 'text-gray-800',\n                      'group flex h-7 w-full items-center rounded px-2 text-base',\n                    ]\"\n                    @click=\"item.onClick\"\n                  >\n                    <FeatherIcon\n                      v-if=\"item.icon && typeof item.icon === 'string'\"\n                      :name=\"item.icon\"\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-gray-700\"\n                      aria-hidden=\"true\"\n                    />\n                    <component\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-gray-700\"\n                      v-else-if=\"item.icon\"\n                      :is=\"item.icon\"\n                    />\n                    <span class=\"whitespace-nowrap\">\n                      {{ item.label }}\n                    </span>\n                  </button>\n                </slot>\n              </MenuItem>\n            </div>\n          </MenuItems>\n          <div v-if=\"slots.footer\" class=\"border-t p-1.5\">\n            <slot name=\"footer\"></slot>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Menu>\n</template>\n\n<script setup>\nimport { Menu, MenuButton, MenuItems, MenuItem } from '@headlessui/vue'\nimport { Popover, Button, FeatherIcon } from 'frappe-ui'\nimport { computed, useSlots } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps({\n  button: {\n    type: Object,\n    default: null,\n  },\n  options: {\n    type: Array,\n    default: () => [],\n  },\n  placement: {\n    type: String,\n    default: 'left',\n  },\n})\n\nconst router = useRouter()\nconst slots = useSlots()\n\nconst dropdownTransition = {\n  enterActiveClass: 'transition duration-100 ease-out',\n  enterFromClass: 'transform scale-95 opacity-0',\n  enterToClass: 'transform scale-100 opacity-100',\n  leaveActiveClass: 'transition duration-75 ease-in',\n  leaveFromClass: 'transform scale-100 opacity-100',\n  leaveToClass: 'transform scale-95 opacity-0',\n}\n\nconst groups = computed(() => {\n  let groups = props.options[0]?.group\n    ? props.options\n    : [{ group: '', items: props.options }]\n\n  return groups.map((group, i) => {\n    return {\n      key: i,\n      group: group.group,\n      hideLabel: group.hideLabel || false,\n      items: filterOptions(group.items),\n    }\n  })\n})\n\nconst popoverPlacement = computed(() => {\n  if (props.placement === 'left') return 'bottom-start'\n  if (props.placement === 'right') return 'bottom-end'\n  if (props.placement === 'center') return 'bottom-center'\n  if (props.placement === 'right-start') return 'right-start'\n  return 'bottom'\n})\n\nfunction normalizeDropdownItem(option) {\n  let onClick = option.onClick || null\n  if (!onClick && option.route && router) {\n    onClick = () => router.push(option.route)\n  }\n\n  return {\n    name: option.name,\n    label: option.label,\n    icon: option.icon,\n    group: option.group,\n    component: option.component,\n    onClick,\n  }\n}\n\nfunction filterOptions(options) {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option))\n}\n</script>\n"],"names":["props","__props","router","useRouter","slots","useSlots","dropdownTransition","groups","computed","_a","group","i","filterOptions","popoverPlacement","normalizeDropdownItem","option","onClick","options"],"mappings":"0jBA6FA,MAAMA,EAAQC,EAeRC,EAASC,EAAW,EACpBC,EAAQC,EAAU,EAElBC,EAAqB,CACzB,iBAAkB,mCAClB,eAAgB,+BAChB,aAAc,kCACd,iBAAkB,iCAClB,eAAgB,kCAChB,aAAc,8BAChB,EAEMC,EAASC,EAAS,IAAM,OAK5B,QAJaC,EAAAT,EAAM,QAAQ,CAAC,IAAf,MAAAS,EAAkB,MAC3BT,EAAM,QACN,CAAC,CAAE,MAAO,GAAI,MAAOA,EAAM,OAAO,CAAE,GAE1B,IAAI,CAACU,EAAOC,KACjB,CACL,IAAKA,EACL,MAAOD,EAAM,MACb,UAAWA,EAAM,WAAa,GAC9B,MAAOE,EAAcF,EAAM,KAAK,CACjC,EACF,CACH,CAAC,EAEKG,EAAmBL,EAAS,IAC5BR,EAAM,YAAc,OAAe,eACnCA,EAAM,YAAc,QAAgB,aACpCA,EAAM,YAAc,SAAiB,gBACrCA,EAAM,YAAc,cAAsB,cACvC,QACR,EAED,SAASc,EAAsBC,EAAQ,CACrC,IAAIC,EAAUD,EAAO,SAAW,KAChC,MAAI,CAACC,GAAWD,EAAO,OAASb,IAC9Bc,EAAU,IAAMd,EAAO,KAAKa,EAAO,KAAK,GAGnC,CACL,KAAMA,EAAO,KACb,MAAOA,EAAO,MACd,KAAMA,EAAO,KACb,MAAOA,EAAO,MACd,UAAWA,EAAO,UAClB,QAAAC,CACD,CACH,CAEA,SAASJ,EAAcK,EAAS,CAC9B,OAAQA,GAAW,CAAE,GAClB,OAAO,OAAO,EACd,OAAQF,GAAYA,EAAO,UAAYA,EAAO,UAAS,EAAK,EAAK,EACjE,IAAKA,GAAWD,EAAsBC,CAAM,CAAC,CAClD"}