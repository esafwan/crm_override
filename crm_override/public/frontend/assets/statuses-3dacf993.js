import{j as w,b as m,c as S,g as x,w as p,e as B,d as z,u as d,t as L,F as M,f as R,n as A,p as I,a5 as V,y as h,a1 as C,B as F,z as j}from"./index-82d0b844.js";import{b as k,_ as N}from"./index-8340263f.js";import{I as E}from"./IndicatorIcon-d1b8f59f.js";const O={class:"flex items-center gap-2 text-base"},_={class:"truncate"},J={__name:"MultipleAvatar",props:{avatars:{type:Array,default:[]},size:{type:String,default:"md"}},setup(a){const c=a,f=w(()=>c.avatars.reverse());return(g,v)=>{var i,n,u;return(i=a.avatars)!=null&&i.length?(m(),S("div",{key:0,class:A(["mr-1.5 flex cursor-pointer items-center",[((n=a.avatars)==null?void 0:n.length)>1?"flex-row-reverse":"truncate [&>div]:truncate"]])},[((u=a.avatars)==null?void 0:u.length)==1?(m(),x(d(N),{key:0,text:a.avatars[0].name},{default:p(()=>[B("div",O,[z(d(k),{shape:"circle",image:a.avatars[0].image,label:a.avatars[0].label,size:a.size},null,8,["image","label","size"]),B("div",_,L(a.avatars[0].label),1)])]),_:1},8,["text"])):(m(!0),S(M,{key:1},R(f.value,o=>(m(),x(d(N),{text:o.name,key:o.name},{default:p(()=>[z(d(k),{class:"user-avatar -mr-1.5 transform ring-2 ring-white transition hover:z-10 hover:scale-110",shape:"circle",image:o.image,label:o.label,size:a.size,"data-name":o.name},null,8,["image","label","size","data-name"])]),_:2},1032,["text"]))),128))],2)):I("",!0)}}},K=V("crm-statuses",()=>{let a=h({}),c=h({}),f=h({});const g=C({doctype:"CRM Lead Status",fields:["name","color","position"],orderBy:"position asc",cache:"lead-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=n(t.color),t.iconColorClass=n(t.color,!0),a[t.name]=t;return e}}),v=C({doctype:"CRM Deal Status",fields:["name","color","position"],orderBy:"position asc",cache:"deal-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=n(t.color),t.iconColorClass=n(t.color,!0),c[t.name]=t;return e}}),i=C({doctype:"CRM Communication Status",fields:["name"],cache:"communication-statuses",initialData:[],auto:!0,transform(e){for(let t of e)f[t.name]=t;return e}});function n(e,t=!1){let l=`!text-${e}-600`;e=="black"?l="!text-gray-900":["gray","green"].includes(e)&&(l=`!text-${e}-700`);let s=`!bg-${e}-100 hover:!bg-${e}-200 active:!bg-${e}-300`;return[l,t?"":s]}function u(e){return e||(e=g.data[0].name),a[e]}function o(e){return e||(e=v.data[0].name),c[e]}function $(e){return e||(e=i.data[0].name),i[e]}function D(e,t,l=[]){let s=e=="deal"?c:a;l.length&&(s=l.reduce((r,b)=>(r[b]=s[b],r),{}));let y=[];for(const r in s)y.push({label:s[r].name,value:s[r].name,icon:()=>F(E,{class:s[r].iconColorClass}),onClick:()=>{j("status_changed",{doctype:e,status:r}),t&&t("status",s[r].name)}});return y}return{leadStatuses:g,dealStatuses:v,communicationStatuses:i,getLeadStatus:u,getDealStatus:o,getCommunicationStatus:$,statusOptions:D}});export{J as _,K as s};
//# sourceMappingURL=statuses-3dacf993.js.map
