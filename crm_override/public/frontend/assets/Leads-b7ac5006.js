import{m as ee,h as ie,i as G,j as X,s as ge,k as we,l as L,r as I,b as t,c as i,d as u,w as y,u as f,F as se,f as Ce,g as k,n as Q,p,e as h,t as z,q as de,v as he,x as oe,y as ce,a as xe,z as Ve,A as Le,B as H}from"./index-82d0b844.js";import{_ as $e,a as Me}from"./ViewControls-4c2465f0.js";import{_ as _e,s as me}from"./statuses-3dacf993.js";import{_ as ze}from"./CustomActions-d045e678.js";import{E as Ee}from"./EmailAtIcon-1abccd22.js";import{P as te}from"./PhoneIcon-3c556b02.js";import{_ as Ue,N as ne}from"./NoteModal-fe2f5600.js";import{T as ue}from"./TaskIcon-5ecf8abe.js";import{C as Ae}from"./CommentIcon-fd4d721b.js";import{I as J}from"./IndicatorIcon-d1b8f59f.js";import{L as Re}from"./LeadsIcon-186f8b9f.js";import{_ as Te}from"./LayoutHeader-ce3efb9b.js";import{_ as Ie,H as re,a as Be,b as qe,c as Se,d as De,e as je}from"./ListBulkActions-6a63e81f.js";import{_ as Pe}from"./ListRows-d5bf097d.js";import{b as q,_ as ae,u as pe,g as We,t as Y,d as Z,f as Oe,c as N}from"./index-8340263f.js";import{D as fe}from"./Dropdown-f8d4a8c8.js";import{_ as Qe}from"./ListFooter-621c0d06.js";import{_ as Fe}from"./KanbanView-6155680d.js";import{E as Ke}from"./EditIcon-3c54f763.js";import{F as He}from"./Fields-ea2aa0dd.js";import{T as Je}from"./TaskModal-16274f1c.js";import{_ as Ge}from"./QuickEntryModal-91fa4073.js";import{o as Xe}from"./organizations-c51d501b.js";import{c as Ye}from"./settings-6089b88c.js";import"./GroupByIcon-584f979a.js";import"./Dropdown-57634c86.js";import"./views-5c6870e6.js";import"./NestedPopover-9b04b27b.js";import"./PinIcon-d3dd27b0.js";import"./FadedScrollableDiv-5302c81a.js";import"./DetailsIcon-f2258ff1.js";import"./DragVerticalIcon-71ed262e.js";import"./ArrowUpRightIcon-60e3a514.js";import"./AssignmentModal-a088aaa9.js";import"./label-16764775.js";import"./Switch.vue_vue_type_script_setup_true_lang-d07933ba.js";const Ze={key:0,class:"flex items-center"},Ne={key:0},es={key:1},ss={key:2},ts={key:3},as={key:4},ls=["onClick"],os={key:1},ns={key:2,class:"truncate text-base"},us={key:3},rs=["onClick"],is={__name:"LeadsListView",props:ee({rows:{type:Array,required:!0},columns:{type:Array,required:!0},options:{type:Object,default:()=>({selectable:!0,showTooltip:!0,resizeColumn:!1,totalCount:0,rowCount:0})}},{modelValue:{},modelModifiers:{},list:{},listModifiers:{}}),emits:ee(["loadMore","updatePageCount","columnWidthUpdated","applyFilter","applyLikeFilter","likeDoc"],["update:modelValue","update:list"]),setup(C,{expose:F,emit:S}){const $=S,D=ie(),A=G(C,"modelValue"),M=G(C,"list"),R=X(()=>{var n,g;return!!((g=(n=M.value.params)==null?void 0:n.filters)!=null&&g._liked_by)}),{user:b}=ge();function T(n){if(n)return JSON.parse(n).includes(b)}we(A,(n,g)=>{n!==g&&$("updatePageCount",n)});const c=L(null);return F({customListActions:X(()=>{var n;return(n=c.value)==null?void 0:n.customListActions})}),(n,g)=>{const U=I("Button"),E=I("Badge"),l=I("FormControl");return t(),i(se,null,[u(f(De),{class:Q(n.$attrs.class),columns:C.columns,rows:C.rows,options:{getRowRoute:v=>({name:"Lead",params:{leadId:v.name},query:{view:f(D).query.view,viewType:f(D).params.viewType}}),selectable:C.options.selectable,showTooltip:C.options.showTooltip,resizeColumn:C.options.resizeColumn},"row-key":"name"},{default:y(()=>[u(f(Ie),{class:"sm:mx-5 mx-3",onColumnWidthUpdated:g[1]||(g[1]=v=>$("columnWidthUpdated"))},{default:y(()=>[(t(!0),i(se,null,Ce(C.columns,v=>(t(),k(f(Be),{key:v.key,item:v,onColumnWidthUpdated:r=>$("columnWidthUpdated",v)},{default:y(()=>[v.key=="_liked_by"?(t(),k(U,{key:0,variant:"ghosted",class:Q(["!h-4",R.value?"fill-red-500":"fill-white"]),onClick:g[0]||(g[0]=()=>$("applyLikeFilter"))},{default:y(()=>[u(re,{class:"h-4 w-4"})]),_:1},8,["class"])):p("",!0)]),_:2},1032,["item","onColumnWidthUpdated"]))),128))]),_:1}),u(Pe,{rows:C.rows},{default:y(({idx:v,column:r,item:d,row:V})=>[r.key==="_assign"?(t(),i("div",Ze,[u(_e,{avatars:d,size:"sm",onClick:j=>$("applyFilter",{event:j,idx:v,column:r,item:d,firstColumn:C.columns[0]})},null,8,["avatars","onClick"])])):(t(),k(f(qe),{key:1,item:d},{prefix:y(()=>[r.key==="status"?(t(),i("div",Ne,[u(J,{class:Q(d.color)},null,8,["class"])])):r.key==="lead_name"?(t(),i("div",es,[d.label?(t(),k(f(q),{key:0,class:"flex items-center",image:d.image,label:d.image_label,size:"sm"},null,8,["image","label"])):p("",!0)])):r.key==="organization"?(t(),i("div",ss,[d.label?(t(),k(f(q),{key:0,class:"flex items-center",image:d.logo,label:d.label,size:"sm"},null,8,["image","label"])):p("",!0)])):r.key==="lead_owner"?(t(),i("div",ts,[d.full_name?(t(),k(f(q),{key:0,class:"flex items-center",image:d.user_image,label:d.full_name,size:"sm"},null,8,["image","label"])):p("",!0)])):r.key==="mobile_no"?(t(),i("div",as,[u(te,{class:"h-4 w-4"})])):p("",!0)]),default:y(({label:j})=>[["modified","creation","first_response_time","first_responded_on","response_by"].includes(r.key)?(t(),i("div",{key:0,class:"truncate text-base",onClick:B=>$("applyFilter",{event:B,idx:v,column:r,item:d,firstColumn:C.columns[0]})},[u(f(ae),{text:d.label},{default:y(()=>[h("div",null,z(d.timeAgo),1)]),_:2},1032,["text"])],8,ls)):r.key==="_liked_by"?(t(),i("div",os,[r.key=="_liked_by"?(t(),k(U,{key:0,variant:"ghosted",class:Q(T(d)?"fill-red-500":"fill-white"),onClick:de(()=>$("likeDoc",{name:V.name,liked:T(d)}),["stop","prevent"])},{default:y(()=>[u(re,{class:"h-4 w-4"})]),_:2},1032,["class","onClick"])):p("",!0)])):r.key==="sla_status"?(t(),i("div",ns,[d.value?(t(),k(E,{key:0,variant:"subtle",theme:d.color,size:"md",label:d.value,onClick:B=>$("applyFilter",{event:B,idx:v,column:r,item:d,firstColumn:C.columns[0]})},null,8,["theme","label","onClick"])):p("",!0)])):r.type==="Check"?(t(),i("div",us,[u(l,{type:"checkbox",modelValue:d,disabled:!0,class:"text-gray-900"},null,8,["modelValue"])])):(t(),i("div",{key:4,class:"truncate text-base",onClick:B=>$("applyFilter",{event:B,idx:v,column:r,item:d,firstColumn:C.columns[0]})},z(j),9,rs))]),_:2},1032,["item"]))]),_:1},8,["rows"]),u(f(Se),null,{actions:y(({selections:v,unselectAll:r})=>[u(f(fe),{options:c.value.bulkActions(v,r)},{default:y(()=>[u(U,{icon:"more-horizontal",variant:"ghost"})]),_:2},1032,["options"])]),_:1})]),_:1},8,["class","columns","rows","options"]),A.value?(t(),k(f(Qe),{key:0,class:"border-t sm:px-5 px-3 py-2",modelValue:A.value,"onUpdate:modelValue":g[2]||(g[2]=v=>A.value=v),options:{rowCount:C.options.rowCount,totalCount:C.options.totalCount},onLoadMore:g[3]||(g[3]=v=>$("loadMore"))},null,8,["modelValue","options"])):p("",!0),u(je,{ref_key:"listBulkActionsRef",ref:c,modelValue:M.value,"onUpdate:modelValue":g[4]||(g[4]=v=>M.value=v),doctype:"CRM Lead"},null,8,["modelValue"])],64)}}},ds={class:"bg-white px-4 pb-6 pt-5 sm:px-6"},cs={class:"mb-5 flex items-center justify-between"},_s={class:"text-2xl font-semibold leading-6 text-gray-900"},ms={class:"flex items-center gap-1"},ps={class:"px-4 pb-7 pt-4 sm:px-6"},fs={class:"flex flex-row-reverse gap-2"},vs={__name:"LeadModal",props:ee({defaults:Object},{modelValue:{},modelModifiers:{},quickEntry:{},quickEntryModifiers:{}}),emits:["update:modelValue","update:quickEntry"],setup(C){const F=C,{getUser:S,isManager:$}=pe(),{getLeadStatus:D,statusOptions:A}=me(),M=G(C,"modelValue"),R=he(),b=L(null),T=L(!1),c=oe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["quickEntryFields","CRM Lead"],params:{doctype:"CRM Lead",type:"Quick Entry"},auto:!0,transform:r=>r.forEach(d=>{d.fields.forEach(V=>{V.name=="status"?(V.type="Select",V.options=U.value,V.prefix=D(n.status).iconColorClass):V.name=="lead_owner"&&(V.type="User")})})}),n=ce({salutation:"",first_name:"",last_name:"",email:"",mobile_no:"",gender:"",organization:"",website:"",no_of_employees:"",territory:"",annual_revenue:"",industry:"",status:"",lead_owner:""}),g=oe({url:"frappe.client.insert",makeParams(r){return{doc:{doctype:"CRM Lead",...r}}}}),U=X(()=>{let r=A("lead");return n.status||(n.status=r[0].value),r});function E(){n.website&&!n.website.startsWith("http")&&(n.website="https://"+n.website),g.submit(n,{validate(){if(b.value=null,!n.first_name)return b.value=__("First Name is mandatory"),b.value;if(n.annual_revenue&&(n.annual_revenue=n.annual_revenue.replace(/,/g,""),isNaN(n.annual_revenue)))return b.value=__("Annual Revenue should be a number"),b.value;if(n.mobile_no&&isNaN(n.mobile_no.replace(/[-+() ]/g,"")))return b.value=__("Mobile No should be a number"),b.value;if(n.email&&!n.email.includes("@"))return b.value=__("Invalid Email"),b.value;if(!n.status)return b.value=__("Status is required"),b.value;T.value=!0},onSuccess(r){Ve("lead_created"),T.value=!1,M.value=!1,R.push({name:"Lead",params:{leadId:r.name}})},onError(r){if(T.value=!1,!r.messages){b.value=r.message;return}b.value=r.messages.join(`
`)}})}const l=G(C,"quickEntry");function v(){l.value=!0,Le(()=>{M.value=!1})}return xe(()=>{Object.assign(n,F.defaults),n.lead_owner||(n.lead_owner=S().name),!n.status&&U.value[0].value&&(n.status=U.value[0].value)}),(r,d)=>{const V=I("Button"),j=I("FeatherIcon"),B=I("ErrorMessage"),W=I("Dialog");return t(),k(W,{modelValue:M.value,"onUpdate:modelValue":d[1]||(d[1]=P=>M.value=P),options:{size:"3xl"}},{body:y(()=>[h("div",ds,[h("div",cs,[h("div",null,[h("h3",_s,z(r.__("Create Lead")),1)]),h("div",ms,[f($)()?(t(),k(V,{key:0,variant:"ghost",class:"w-7",onClick:v},{default:y(()=>[u(Ke,{class:"h-4 w-4"})]),_:1})):p("",!0),u(V,{variant:"ghost",class:"w-7",onClick:d[0]||(d[0]=P=>M.value=!1)},{default:y(()=>[u(j,{name:"x",class:"h-4 w-4"})]),_:1})])]),h("div",null,[f(c).data?(t(),k(He,{key:0,sections:f(c).data,data:n},null,8,["sections","data"])):p("",!0),b.value?(t(),k(B,{key:1,class:"mt-4",message:r.__(b.value)},null,8,["message"])):p("",!0)])]),h("div",ps,[h("div",fs,[u(V,{variant:"solid",label:r.__("Create"),loading:T.value,onClick:E},null,8,["label","loading"])])])]),_:1},8,["modelValue"])}}},ys={class:"flex items-center gap-2"},ks={key:0},bs={key:1},gs={key:2},ws={key:3},Cs={key:4},hs={key:5,class:"truncate text-base"},xs={key:6,class:"truncate text-base"},Vs={key:7,class:"truncate text-base"},Ls={key:8,class:"text-gray-500"},$s={key:0,class:"truncate flex items-center gap-2"},Ms={key:0},zs={key:1},Es={key:2},Us={key:3},As={key:4,class:"truncate text-base"},Rs={key:5,class:"truncate text-base"},Ts={key:6,class:"flex items-center"},Is={key:7,class:"truncate text-base"},Bs={class:"flex gap-2 items-center justify-between"},qs={class:"text-gray-600 flex items-center gap-1.5"},Ss={key:0},Ds={key:1},js={key:2},Ps={key:3},Ws={key:2,class:"flex h-full items-center justify-center"},Os={class:"flex flex-col items-center gap-3 text-xl font-medium text-gray-500"},Lt={__name:"Leads",setup(C){const{makeCall:F}=We(),{getUser:S}=pe(),{getOrganization:$}=Xe(),{getLeadStatus:D}=me(),A=ie(),M=L(null),R=L(!1),b=L(!1),T=ce({}),c=L({}),n=L(1),g=L(1),U=L(20),E=L(null);function l(_,s){var w;function m(a){return a&&typeof a=="object"&&!Array.isArray(a)?a:{label:a}}return m((w=v.value)==null?void 0:w.find(a=>a.name==_)[s])}const v=X(()=>{var _,s,m,w,a,e,o;return(s=(_=c.value)==null?void 0:_.data)!=null&&s.data?c.value.data.view_type==="group_by"?(w=(m=c.value)==null?void 0:m.data.group_by_field)!=null&&w.name?r((a=c.value)==null?void 0:a.data.data,(e=c.value)==null?void 0:e.data.group_by_field):[]:c.value.data.view_type==="kanban"?d(c.value.data.data):V((o=c.value)==null?void 0:o.data.data):[]});function r(_,s){var w;let m=[];return(w=s.options)==null||w.forEach(a=>{let e=[];a?e=_.filter(x=>x[s.name]==a):e=_.filter(x=>!x[s.name]);let o={label:s.label,group:a||__(" "),collapsed:!1,rows:V(e)};s.name=="status"&&(o.icon=()=>{var x;return H(J,{class:(x=D(a))==null?void 0:x.iconColorClass})}),m.push(o)}),m||_}function d(_){let s=[];return _.forEach(m=>{var w;(w=m.data)==null||w.forEach(a=>{s.push(a)})}),V(s)}function V(_){return _.map(s=>{var w;let m={};return(w=c.value)==null||w.data.rows.forEach(a=>{var e,o;if(m[a]=s[a],a=="lead_name")m[a]={label:s.lead_name,image:s.image,image_label:s.first_name};else if(a=="organization")m[a]={label:s.organization,logo:(e=$(s.organization))==null?void 0:e.organization_logo};else if(a=="status")m[a]={label:s.status,color:(o=D(s.status))==null?void 0:o.iconColorClass};else if(a=="sla_status"){let x=s.sla_status,O=x,le=s.sla_status=="Failed"?"red":s.sla_status=="Fulfilled"?"green":"orange";x=="First Response Due"&&(x=__(Y(s.response_by)),O=Z(s.response_by,N),new Date(s.response_by)<new Date&&(le="red")),m[a]={label:O,value:x,color:le}}else if(a=="lead_owner")m[a]={label:s.lead_owner&&S(s.lead_owner).full_name,...s.lead_owner&&S(s.lead_owner)};else if(a=="_assign"){let x=JSON.parse(s._assign)||[];!x.length&&s.lead_owner&&(x=[s.lead_owner]),m[a]=x.map(O=>({name:O,image:S(O).user_image,label:S(O).full_name}))}else if(["modified","creation"].includes(a))m[a]={label:Z(s[a],N),timeAgo:__(Y(s[a]))};else if(["first_response_time","first_responded_on","response_by"].includes(a)){let x=a=="response_by"?"response_by":"first_responded_on";m[a]={label:s[x]?Z(s[x],N):"",timeAgo:s[a]?a=="first_response_time"?Oe(s[a]):__(Y(s[a])):""}}}),m._email_count=s._email_count,m._note_count=s._note_count,m._task_count=s._task_count,m._comment_count=s._comment_count,m})}function j(_){let s=c.value.params.column_field;s&&(T[s]=_.column.name),R.value=!0}function B(_){var w;let s=((w=l(_,"mobile_no"))==null?void 0:w.label)||"";return[{icon:H(te,{class:"h-4 w-4"}),label:__("Make a Call"),onClick:()=>F(s),condition:()=>s&&Ye.value},{icon:H(ne,{class:"h-4 w-4"}),label:__("New Note"),onClick:()=>ye(_)},{icon:H(ue,{class:"h-4 w-4"}),label:__("New Task"),onClick:()=>be(_)}].filter(a=>a.condition?a.condition():!0)}const W=L(""),P=L(!1),ve=L({title:"",content:""});function ye(_){W.value=_,P.value=!0}const K=L(!1),ke=L({title:"",description:"",assigned_to:"",due_date:"",priority:"Low",status:"Backlog"});function be(_){W.value=_,K.value=!0}return(_,s)=>{const m=I("FeatherIcon"),w=I("Button"),a=I("Badge");return t(),i(se,null,[u(Te,null,{"left-header":y(()=>[u(Me,{modelValue:E.value,"onUpdate:modelValue":s[0]||(s[0]=e=>E.value=e),routeName:"Leads"},null,8,["modelValue"])]),"right-header":y(()=>{var e;return[(e=M.value)!=null&&e.customListActions?(t(),k(ze,{key:0,actions:M.value.customListActions},null,8,["actions"])):p("",!0),u(w,{variant:"solid",label:_.__("Create"),onClick:s[1]||(s[1]=o=>R.value=!0)},{prefix:y(()=>[u(m,{name:"plus",class:"h-4"})]),_:1},8,["label"])]}),_:1}),u($e,{ref_key:"viewControls",ref:E,modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=e=>c.value=e),loadMore:n.value,"onUpdate:loadMore":s[3]||(s[3]=e=>n.value=e),resizeColumn:g.value,"onUpdate:resizeColumn":s[4]||(s[4]=e=>g.value=e),updatedPageCount:U.value,"onUpdate:updatedPageCount":s[5]||(s[5]=e=>U.value=e),doctype:"CRM Lead",filters:{converted:0},options:{allowedViews:["list","group_by","kanban"]}},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),f(A).params.viewType=="kanban"?(t(),k(Fe,{key:0,modelValue:c.value,"onUpdate:modelValue":s[7]||(s[7]=e=>c.value=e),options:{getRoute:e=>({name:"Lead",params:{leadId:e.name},query:{view:f(A).query.view,viewType:f(A).params.viewType}}),onNewClick:e=>j(e)},onUpdate:s[8]||(s[8]=e=>E.value.updateKanbanSettings(e)),onLoadMore:s[9]||(s[9]=e=>E.value.loadMoreKanban(e))},{title:y(({titleField:e,itemName:o})=>[h("div",ys,[e==="status"?(t(),i("div",ks,[u(J,{class:Q(l(o,e).color)},null,8,["class"])])):e==="organization"&&l(o,e).label?(t(),i("div",bs,[u(f(q),{class:"flex items-center",image:l(o,e).logo,label:l(o,e).label,size:"sm"},null,8,["image","label"])])):e==="lead_name"&&l(o,e).label?(t(),i("div",gs,[u(f(q),{class:"flex items-center",image:l(o,e).image,label:l(o,e).image_label,size:"sm"},null,8,["image","label"])])):e==="lead_owner"&&l(o,e).full_name?(t(),i("div",ws,[u(f(q),{class:"flex items-center",image:l(o,e).user_image,label:l(o,e).full_name,size:"sm"},null,8,["image","label"])])):e==="mobile_no"?(t(),i("div",Cs,[u(te,{class:"h-4 w-4"})])):p("",!0),["modified","creation","first_response_time","first_responded_on","response_by"].includes(e)?(t(),i("div",hs,[u(f(ae),{text:l(o,e).label},{default:y(()=>[h("div",null,z(l(o,e).timeAgo),1)]),_:2},1032,["text"])])):e==="sla_status"?(t(),i("div",xs,[l(o,e).value?(t(),k(a,{key:0,variant:"subtle",theme:l(o,e).color,size:"md",label:l(o,e).value},null,8,["theme","label"])):p("",!0)])):l(o,e).label?(t(),i("div",Vs,z(l(o,e).label),1)):(t(),i("div",Ls,z(_.__("No Title")),1))])]),fields:y(({fieldName:e,itemName:o})=>[l(o,e).label?(t(),i("div",$s,[e==="status"?(t(),i("div",Ms,[u(J,{class:Q(l(o,e).color)},null,8,["class"])])):e==="organization"&&l(o,e).label?(t(),i("div",zs,[u(f(q),{class:"flex items-center",image:l(o,e).logo,label:l(o,e).label,size:"xs"},null,8,["image","label"])])):e==="lead_name"?(t(),i("div",Es,[l(o,e).label?(t(),k(f(q),{key:0,class:"flex items-center",image:l(o,e).image,label:l(o,e).image_label,size:"xs"},null,8,["image","label"])):p("",!0)])):e==="lead_owner"?(t(),i("div",Us,[l(o,e).full_name?(t(),k(f(q),{key:0,class:"flex items-center",image:l(o,e).user_image,label:l(o,e).full_name,size:"xs"},null,8,["image","label"])):p("",!0)])):p("",!0),["modified","creation","first_response_time","first_responded_on","response_by"].includes(e)?(t(),i("div",As,[u(f(ae),{text:l(o,e).label},{default:y(()=>[h("div",null,z(l(o,e).timeAgo),1)]),_:2},1032,["text"])])):e==="sla_status"?(t(),i("div",Rs,[l(o,e).value?(t(),k(a,{key:0,variant:"subtle",theme:l(o,e).color,size:"md",label:l(o,e).value},null,8,["theme","label"])):p("",!0)])):e==="_assign"?(t(),i("div",Ts,[u(_e,{avatars:l(o,e).label,size:"xs"},null,8,["avatars"])])):(t(),i("div",Is,z(l(o,e).label),1))])):p("",!0)]),actions:y(({itemName:e})=>[h("div",Bs,[h("div",qs,[u(Ee,{class:"h-4 w-4"}),l(e,"_email_count").label?(t(),i("span",Ss,z(l(e,"_email_count").label),1)):p("",!0),s[24]||(s[24]=h("span",{class:"text-3xl leading-[0]"}," · ",-1)),u(ne,{class:"h-4 w-4"}),l(e,"_note_count").label?(t(),i("span",Ds,z(l(e,"_note_count").label),1)):p("",!0),s[25]||(s[25]=h("span",{class:"text-3xl leading-[0]"}," · ",-1)),u(ue,{class:"h-4 w-4"}),l(e,"_task_count").label?(t(),i("span",js,z(l(e,"_task_count").label),1)):p("",!0),s[26]||(s[26]=h("span",{class:"text-3xl leading-[0]"}," · ",-1)),u(Ae,{class:"h-4 w-4"}),l(e,"_comment_count").label?(t(),i("span",Ps,z(l(e,"_comment_count").label),1)):p("",!0)]),u(f(fe),{class:"flex items-center gap-2",options:B(e),variant:"ghost",onClick:s[6]||(s[6]=de(()=>{},["stop","prevent"]))},{default:y(()=>[u(w,{icon:"plus",variant:"ghost"})]),_:2},1032,["options"])])]),_:1},8,["modelValue","options"])):c.value.data&&v.value.length?(t(),k(is,{key:1,ref_key:"leadsListView",ref:M,modelValue:c.value.data.page_length_count,"onUpdate:modelValue":s[10]||(s[10]=e=>c.value.data.page_length_count=e),list:c.value,"onUpdate:list":s[11]||(s[11]=e=>c.value=e),rows:v.value,columns:c.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:c.value.data.row_count,totalCount:c.value.data.total_count},onLoadMore:s[12]||(s[12]=()=>n.value++),onColumnWidthUpdated:s[13]||(s[13]=()=>g.value++),onUpdatePageCount:s[14]||(s[14]=e=>U.value=e),onApplyFilter:s[15]||(s[15]=e=>E.value.applyFilter(e)),onApplyLikeFilter:s[16]||(s[16]=e=>E.value.applyLikeFilter(e)),onLikeDoc:s[17]||(s[17]=e=>E.value.likeDoc(e))},null,8,["modelValue","list","rows","columns","options"])):c.value.data?(t(),i("div",Ws,[h("div",Os,[u(Re,{class:"h-10 w-10"}),h("span",null,z(_.__("No {0} Found",[_.__("Leads")])),1),u(w,{label:_.__("Create"),onClick:s[18]||(s[18]=e=>R.value=!0)},{prefix:y(()=>[u(m,{name:"plus",class:"h-4"})]),_:1},8,["label"])])])):p("",!0),R.value?(t(),k(vs,{key:3,modelValue:R.value,"onUpdate:modelValue":s[19]||(s[19]=e=>R.value=e),quickEntry:b.value,"onUpdate:quickEntry":s[20]||(s[20]=e=>b.value=e),defaults:T},null,8,["modelValue","quickEntry","defaults"])):p("",!0),P.value?(t(),k(Ue,{key:4,modelValue:P.value,"onUpdate:modelValue":s[21]||(s[21]=e=>P.value=e),note:ve.value,doctype:"CRM Lead",doc:W.value},null,8,["modelValue","note","doc"])):p("",!0),K.value?(t(),k(Je,{key:5,modelValue:K.value,"onUpdate:modelValue":s[22]||(s[22]=e=>K.value=e),task:ke.value,doctype:"CRM Lead",doc:W.value},null,8,["modelValue","task","doc"])):p("",!0),b.value?(t(),k(Ge,{key:6,modelValue:b.value,"onUpdate:modelValue":s[23]||(s[23]=e=>b.value=e)},null,8,["modelValue"])):p("",!0)],64)}}};export{Lt as default};
//# sourceMappingURL=Leads-b7ac5006.js.map
