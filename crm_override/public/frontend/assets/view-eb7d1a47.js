import{a8 as C,l as I,B as R,a9 as oe,aa as le,j as x,ab as L,ac as U,a as F,k as ne,ad as ie,ae as m,af as D,ag as de,F as M,ah as re,ai as se,aj as W,ak as ce,al as H,am as j,an as S,ao as V,ap as ve,aq as fe,ar as O,as as k,A as J,b as A,g as _,w as B,d as Q,u as E,n as G,c as X,f as Y,M as Z,C as ee,e as te,G as pe,p as be,H as me,t as xe,P as ye,a3 as z}from"./index-82d0b844.js";import{L as ge,G as Ie,K as he}from"./GroupByIcon-584f979a.js";import{v as we}from"./views-5c6870e6.js";let Te=C({props:{onFocus:{type:Function,required:!0}},setup(e){let c=I(!0);return()=>c.value?R(le,{as:"button",type:"button",features:oe.Focusable,onFocus(v){v.preventDefault();let d,u=50;function o(){var a;if(u--<=0){d&&cancelAnimationFrame(d);return}if((a=e.onFocus)!=null&&a.call(e)){c.value=!1,cancelAnimationFrame(d);return}d=requestAnimationFrame(o)}d=requestAnimationFrame(o)}}):null}});var Pe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pe||{}),Se=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Se||{});let ue=Symbol("TabsContext");function N(e){let c=W(ue,null);if(c===null){let v=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,N),v}return c}let K=Symbol("TabsSSRContext"),ke=C({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:c,attrs:v,emit:d}){var u;let o=I((u=e.selectedIndex)!=null?u:e.defaultIndex),a=I([]),n=I([]),y=x(()=>e.selectedIndex!==null),P=x(()=>y.value?e.selectedIndex:o.value);function g(t){var s;let f=L(i.tabs.value,m),l=L(i.panels.value,m),p=f.filter(w=>{var T;return!((T=m(w))!=null&&T.hasAttribute("disabled"))});if(t<0||t>f.length-1){let w=j(o.value===null?0:Math.sign(t-o.value),{[-1]:()=>1,0:()=>j(Math.sign(t),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),T=j(w,{0:()=>f.indexOf(p[0]),1:()=>f.indexOf(p[p.length-1])});T!==-1&&(o.value=T),i.tabs.value=f,i.panels.value=l}else{let w=f.slice(0,t),T=[...f.slice(t),...w].find(q=>p.includes(q));if(!T)return;let $=(s=f.indexOf(T))!=null?s:i.selectedIndex.value;$===-1&&($=i.selectedIndex.value),o.value=$,i.tabs.value=f,i.panels.value=l}}let i={selectedIndex:x(()=>{var t,s;return(s=(t=o.value)!=null?t:e.defaultIndex)!=null?s:null}),orientation:x(()=>e.vertical?"vertical":"horizontal"),activation:x(()=>e.manual?"manual":"auto"),tabs:a,panels:n,setSelectedIndex(t){P.value!==t&&d("change",t),y.value||g(t)},registerTab(t){var s;if(a.value.includes(t))return;let f=a.value[o.value];if(a.value.push(t),a.value=L(a.value,m),!y.value){let l=(s=a.value.indexOf(f))!=null?s:o.value;l!==-1&&(o.value=l)}},unregisterTab(t){let s=a.value.indexOf(t);s!==-1&&a.value.splice(s,1)},registerPanel(t){n.value.includes(t)||(n.value.push(t),n.value=L(n.value,m))},unregisterPanel(t){let s=n.value.indexOf(t);s!==-1&&n.value.splice(s,1)}};U(ue,i);let r=I({tabs:[],panels:[]}),h=I(!1);F(()=>{h.value=!0}),U(K,x(()=>h.value?null:r.value));let b=x(()=>e.selectedIndex);return F(()=>{ne([b],()=>{var t;return g((t=e.selectedIndex)!=null?t:e.defaultIndex)},{immediate:!0})}),ie(()=>{if(!y.value||P.value==null||i.tabs.value.length<=0)return;let t=L(i.tabs.value,m);t.some((s,f)=>m(i.tabs.value[f])!==m(s))&&i.setSelectedIndex(t.findIndex(s=>m(s)===m(i.tabs.value[P.value])))}),()=>{let t={selectedIndex:o.value};return R(M,[a.value.length<=0&&R(Te,{onFocus:()=>{for(let s of a.value){let f=m(s);if((f==null?void 0:f.tabIndex)===0)return f.focus(),!0}return!1}}),D({theirProps:{...v,...de(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:t,slots:c,attrs:v,name:"TabGroup"})])}}}),$e=C({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:c,slots:v}){let d=N("TabList");return()=>{let u={selectedIndex:d.selectedIndex.value},o={role:"tablist","aria-orientation":d.orientation.value};return D({ourProps:o,theirProps:e,slot:u,attrs:c,slots:v,name:"TabList"})}}}),Oe=C({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:c,slots:v,expose:d}){var u;let o=(u=e.id)!=null?u:`headlessui-tabs-tab-${re()}`,a=N("Tab"),n=I(null);d({el:n,$el:n}),F(()=>a.registerTab(n)),se(()=>a.unregisterTab(n));let y=W(K),P=x(()=>{if(y.value){let l=y.value.tabs.indexOf(o);return l===-1?y.value.tabs.push(o)-1:l}return-1}),g=x(()=>{let l=a.tabs.value.indexOf(n);return l===-1?P.value:l}),i=x(()=>g.value===a.selectedIndex.value);function r(l){var p;let w=l();if(w===V.Success&&a.activation.value==="auto"){let T=(p=fe(n))==null?void 0:p.activeElement,$=a.tabs.value.findIndex(q=>m(q)===T);$!==-1&&a.setSelectedIndex($)}return w}function h(l){let p=a.tabs.value.map(w=>m(w)).filter(Boolean);if(l.key===S.Space||l.key===S.Enter){l.preventDefault(),l.stopPropagation(),a.setSelectedIndex(g.value);return}switch(l.key){case S.Home:case S.PageUp:return l.preventDefault(),l.stopPropagation(),r(()=>O(p,k.First));case S.End:case S.PageDown:return l.preventDefault(),l.stopPropagation(),r(()=>O(p,k.Last))}if(r(()=>j(a.orientation.value,{vertical(){return l.key===S.ArrowUp?O(p,k.Previous|k.WrapAround):l.key===S.ArrowDown?O(p,k.Next|k.WrapAround):V.Error},horizontal(){return l.key===S.ArrowLeft?O(p,k.Previous|k.WrapAround):l.key===S.ArrowRight?O(p,k.Next|k.WrapAround):V.Error}}))===V.Success)return l.preventDefault()}let b=I(!1);function t(){var l;b.value||(b.value=!0,!e.disabled&&((l=m(n))==null||l.focus({preventScroll:!0}),a.setSelectedIndex(g.value),ve(()=>{b.value=!1})))}function s(l){l.preventDefault()}let f=ce(x(()=>({as:e.as,type:c.type})),n);return()=>{var l,p;let w={selected:i.value,disabled:(l=e.disabled)!=null?l:!1},{...T}=e,$={ref:n,onKeydown:h,onMousedown:s,onClick:t,id:o,role:"tab",type:f.value,"aria-controls":(p=m(a.panels.value[g.value]))==null?void 0:p.id,"aria-selected":i.value,tabIndex:i.value?0:-1,disabled:e.disabled?!0:void 0};return D({ourProps:$,theirProps:T,slot:w,attrs:c,slots:v,name:"Tab"})}}}),Ae=C({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:c,attrs:v}){let d=N("TabPanels");return()=>{let u={selectedIndex:d.selectedIndex.value};return D({theirProps:e,ourProps:{},slot:u,attrs:v,slots:c,name:"TabPanels"})}}}),Ce=C({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:c,slots:v,expose:d}){var u;let o=(u=e.id)!=null?u:`headlessui-tabs-panel-${re()}`,a=N("TabPanel"),n=I(null);d({el:n,$el:n}),F(()=>a.registerPanel(n)),se(()=>a.unregisterPanel(n));let y=W(K),P=x(()=>{if(y.value){let r=y.value.panels.indexOf(o);return r===-1?y.value.panels.push(o)-1:r}return-1}),g=x(()=>{let r=a.panels.value.indexOf(n);return r===-1?P.value:r}),i=x(()=>g.value===a.selectedIndex.value);return()=>{var r;let h={selected:i.value},{tabIndex:b,...t}=e,s={ref:n,id:o,role:"tabpanel","aria-labelledby":(r=m(a.tabs.value[g.value]))==null?void 0:r.id,tabIndex:i.value?b:-1};return!i.value&&e.unmount&&!e.static?R(le,{as:"span","aria-hidden":!0,...s}):D({ourProps:s,theirProps:t,slot:h,attrs:c,slots:v,features:H.Static|H.RenderStrategy,visible:i.value,name:"TabPanel"})}}});const De={__name:"Tabs",props:{tabs:{type:Array,required:!0},modelValue:{type:Number,default:0},tablistClass:{type:String,default:""},tabPanelClass:{type:String,default:""},options:{type:Object,default:()=>({indicatorLeft:20})}},emits:["update:modelValue"],setup(e,{emit:c}){var i;const v=e,d=c,u=x({get:()=>v.modelValue,set:r=>d("update:modelValue",r)}),o=I([]),a=I(null),n=x(()=>{var r;return(r=v.tabs)==null?void 0:r.length}),y=I((i=v.options)==null?void 0:i.indicatorLeft),P=I("");function g(r){r>=n.value&&(r=n.value-1);const h=o.value[r].el;a.value.style.width=`${h.offsetWidth}px`,y.value=h.offsetLeft}return ne(u,r=>{r>=n.value&&(u.value=n.value-1),J(()=>g(r))}),F(()=>{g(u.value),J(()=>{P.value="transition-all duration-300 ease-in-out"})}),(r,h)=>(A(),_(E(ke),{as:"div",class:"flex flex-1 flex-col",defaultIndex:u.value,selectedIndex:u.value,onChange:h[0]||(h[0]=b=>u.value=b)},{default:B(()=>[Q(E($e),{class:G(["relative flex items-center gap-7.5 overflow-x-auto border-b pl-5",e.tablistClass])},{default:B(()=>[(A(!0),X(M,null,Y(e.tabs,(b,t)=>(A(),_(E(Oe),{ref_for:!0,ref_key:"tabRef",ref:o,as:"template",key:t,class:"focus:outline-none focus:transition-none"},{default:B(({selected:s})=>[Z(r.$slots,"tab",ee({ref_for:!0},{tab:b,selected:s}),()=>[te("button",{class:G(["flex items-center gap-1.5 border-b border-transparent py-3 text-base text-gray-600 duration-300 ease-in-out hover:border-gray-400 hover:text-gray-900",{"text-gray-900":s}])},[b.icon?(A(),_(pe(b.icon),{key:0,class:"size-4"})):be("",!0),me(" "+xe(b.label),1)],2)])]),_:2},1024))),128)),te("div",{ref_key:"indicator",ref:a,class:G(["absolute bottom-0 h-px bg-gray-900",P.value]),style:ye({left:`${y.value}px`})},null,6)]),_:3},8,["class"]),Q(E(Ae),{class:G(["flex flex-1 overflow-hidden",e.tabPanelClass])},{default:B(()=>[(A(!0),X(M,null,Y(e.tabs,(b,t)=>(A(),_(E(Ce),{class:"flex flex-1 flex-col overflow-y-auto focus:outline-none",key:t},{default:B(()=>[Z(r.$slots,"default",ee({ref_for:!0},{tab:b}))]),_:2},1024))),128))]),_:3},8,["class"])]),_:3},8,["defaultIndex","selectedIndex"]))}},{getView:Le}=we();function ae(e){return{list:{label:__("List"),icon:z(ge)},group_by:{label:__("Group By"),icon:z(Ie)},kanban:{label:__("Kanban"),icon:z(he)}}[e]}function Ne(e,c,v){let d=c||"list",u=Le(e,d,v);return u&&!u.icon&&(u.icon=ae(d).icon),u||ae(d)}export{De as _,Ne as g};
//# sourceMappingURL=view-eb7d1a47.js.map
