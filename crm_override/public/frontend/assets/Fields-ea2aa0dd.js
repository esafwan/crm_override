import{_ as M,D as j}from"./NestedPopover-9b04b27b.js";import{_ as L,b as o,c as s,e as r,l as w,a as N,A as B,r as k,T as $,U as D,t as h,d as n,q as F,S as T,u as p,az as E,g as d,w as c,p as y,F as U,f,n as _,H as I,E as A}from"./index-82d0b844.js";import{E as O}from"./EditIcon-3c54f763.js";import{_ as C,u as P,a as S}from"./index-8340263f.js";import{I as Z}from"./IndicatorIcon-d1b8f59f.js";import{_ as z,D as K}from"./views-5c6870e6.js";const R={},q={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function H(a,i){return o(),s("svg",q,i[0]||(i[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)]))}const G=L(R,[["render",H]]),J={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-gray-800 transition-colors hover:bg-gray-200 active:bg-gray-300"},Q={class:"flex items-center justify-between gap-7"},W={class:"actions flex items-center justify-center"},X={__name:"DropdownItem",props:{option:{type:Object,default:()=>{}}},setup(a){const i=a,l=w(!1),v=w(!1),m=w(null);N(()=>{var u;(u=i.option)!=null&&u.value||(l.value=!0,v.value=!0,B(()=>m.value.el.focus()))});const g=()=>{l.value=!l.value,l.value&&B(()=>m.value.el.focus())},x=()=>{g(),i.option.onSave(i.option,v.value),v.value=!1};return(u,e)=>{const t=k("Button"),b=k("FeatherIcon");return o(),s("div",J,[r("div",Q,[$(r("div",null,h(a.option.value),513),[[D,!l.value]]),$(n(p(E),{ref_key:"inputRef",ref:m,modelValue:a.option.value,"onUpdate:modelValue":e[0]||(e[0]=V=>a.option.value=V),class:"w-full",placeholder:a.option.placeholder,onBlur:F(x,["stop"]),onKeydown:e[1]||(e[1]=T(F(V=>V.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[D,l.value]]),r("div",W,[!v.value&&!a.option.selected?(o(),d(p(C),{key:0,text:"Set As Primary"},{default:c(()=>[r("div",null,[n(t,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-gray-300 group-hover:opacity-100",onClick:a.option.onClick},{default:c(()=>[n(G)]),_:1},8,["onClick"])])]),_:1})):y("",!0),n(p(C),{text:"Edit"},{default:c(()=>[r("div",null,[n(t,{variant:"ghost",size:"sm",class:"opacity-0 hover:bg-gray-300 group-hover:opacity-100",onClick:g},{default:c(()=>[n(O)]),_:1})])]),_:1}),n(p(C),{text:"Delete"},{default:c(()=>[r("div",null,[n(t,{variant:"ghost",icon:"x",size:"sm",class:"opacity-0 hover:bg-gray-300 group-hover:opacity-100",onClick:e[2]||(e[2]=()=>a.option.onDelete(a.option,v.value))})])]),_:1})])]),r("div",null,[a.option.selected?(o(),d(b,{key:0,name:"check",class:"text-primary-500 h-4 w-6",size:"sm"})):y("",!0)])])}}};const Y={class:"flex flex-col gap-4"},ee={key:0,class:"flex h-7 mb-3 max-w-fit cursor-pointer items-center gap-2 text-base font-semibold leading-5"},ae={key:0},te={key:0,class:"mb-2 text-sm text-gray-600"},oe={key:0,class:"text-red-500"},le={key:3,class:"flex items-center gap-2"},ne=["onClick"],se={key:0,class:"text-red-500"},re={class:"cursor-pointer"},ce={key:6},de={class:"truncate"},ue={class:"my-2 space-y-1.5 divide-y rounded-lg border border-gray-100 bg-white p-1.5 shadow-xl"},me={key:1},ie={class:"p-1.5 px-7 text-base text-gray-500"},pe={class:"pt-1.5"},he={__name:"Fields",props:{sections:Array,data:Object},setup(a){const{getUser:i}=P();return(l,v)=>{const m=k("FormControl"),g=k("FeatherIcon"),x=k("Button");return o(),s("div",Y,[(o(!0),s(U,null,f(a.sections,u=>(o(),s("div",{key:u.label,class:_(["first:border-t-0 first:pt-0",u.hideBorder?"":"border-t pt-4"])},[u.hideLabel?y("",!0):(o(),s("div",ee,h(u.label),1)),r("div",{class:_(["grid gap-4",u.columns?"grid-cols-"+u.columns:"grid-cols-2 sm:grid-cols-3"])},[(o(!0),s(U,null,f(u.fields,e=>(o(),s("div",{key:e.name},[e.type=="Check"||e.read_only&&a.data[e.name]||!e.read_only||!e.hidden?(o(),s("div",ae,[e.type!="Check"?(o(),s("div",te,[I(h(l.__(e.label))+" ",1),e.mandatory?(o(),s("span",oe,"*")):y("",!0)])):y("",!0),e.read_only&&e.type!=="Check"?(o(),d(m,{key:1,type:"text",placeholder:l.__(e.placeholder||e.label),modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,disabled:!0},null,8,["placeholder","modelValue","onUpdate:modelValue"])):e.type==="Select"?(o(),d(m,{key:2,type:"select",class:_(["form-control",e.prefix?"prefix":""]),options:e.options,modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,placeholder:l.__(e.placeholder||e.label)},A({_:2},[e.prefix?{name:"prefix",fn:c(()=>[n(Z,{class:_(e.prefix)},null,8,["class"])]),key:"0"}:void 0]),1032,["class","options","modelValue","onUpdate:modelValue","placeholder"])):e.type=="Check"?(o(),s("div",le,[n(m,{class:"form-control",type:"checkbox",modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,onChange:t=>a.data[e.name]=t.target.checked,disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"]),r("label",{class:"text-sm text-gray-600",onClick:t=>a.data[e.name]=!a.data[e.name]},[I(h(l.__(e.label))+" ",1),e.mandatory?(o(),s("span",se,"*")):y("",!0)],8,ne)])):e.type==="Link"?(o(),d(z,{key:4,class:"form-control",value:a.data[e.name],doctype:e.options,onChange:t=>a.data[e.name]=t,placeholder:l.__(e.placeholder||e.label),onCreate:e.create},null,8,["value","doctype","onChange","placeholder","onCreate"])):e.type==="User"?(o(),d(z,{key:5,class:"form-control",value:p(i)(a.data[e.name]).full_name,doctype:e.options,onChange:t=>a.data[e.name]=t,placeholder:l.__(e.placeholder||e.label),hideMe:!0},{prefix:c(()=>[n(S,{class:"mr-2",user:a.data[e.name],size:"sm"},null,8,["user"])]),"item-prefix":c(({option:t})=>[n(S,{class:"mr-2",user:t.value,size:"sm"},null,8,["user"])]),"item-label":c(({option:t})=>[n(p(C),{text:t.value},{default:c(()=>[r("div",re,h(p(i)(t.value).full_name),1)]),_:2},1032,["text"])]),_:2},1032,["value","doctype","onChange","placeholder"])):e.type==="Dropdown"?(o(),s("div",ce,[n(M,null,{target:c(({open:t})=>[n(x,{label:a.data[e.name],class:"dropdown-button flex w-full items-center justify-between rounded border border-gray-100 bg-gray-100 px-2 py-1.5 text-base text-gray-800 placeholder-gray-500 transition-colors hover:border-gray-200 hover:bg-gray-200 focus:border-gray-500 focus:bg-white focus:shadow-sm focus:outline-none focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400"},{suffix:c(()=>[n(g,{name:t?"chevron-up":"chevron-down",class:"h-4 text-gray-600"},null,8,["name"])]),default:c(()=>[r("div",de,h(a.data[e.name]),1)]),_:2},1032,["label"])]),body:c(()=>{var t;return[r("div",ue,[r("div",null,[(t=e.options)!=null&&t.length?(o(!0),s(U,{key:0},f(e.options,b=>(o(),d(X,{key:b.name,option:b},null,8,["option"]))),128)):(o(),s("div",me,[r("div",ie,h(l.__("No {0} Available",[e.label])),1)]))]),r("div",pe,[n(x,{variant:"ghost",class:"w-full !justify-start",label:l.__("Create New"),onClick:b=>e.create()},{prefix:c(()=>[n(g,{name:"plus",class:"h-4"})]),_:2},1032,["label","onClick"])])])]}),_:2},1024)])):e.type==="Datetime"?(o(),d(p(K),{key:7,modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,placeholder:l.__(e.placeholder||e.label),"input-class":"border-none"},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type==="Date"?(o(),d(p(j),{key:8,modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,placeholder:l.__(e.placeholder||e.label),"input-class":"border-none"},null,8,["modelValue","onUpdate:modelValue","placeholder"])):["Small Text","Text","Long Text"].includes(e.type)?(o(),d(m,{key:9,type:"textarea",placeholder:l.__(e.placeholder||e.label),modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t},null,8,["placeholder","modelValue","onUpdate:modelValue"])):["Int"].includes(e.type)?(o(),d(m,{key:10,type:"number",placeholder:l.__(e.placeholder||e.label),modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t},null,8,["placeholder","modelValue","onUpdate:modelValue"])):(o(),d(m,{key:11,type:"text",placeholder:l.__(e.placeholder||e.label),modelValue:a.data[e.name],"onUpdate:modelValue":t=>a.data[e.name]=t,disabled:!!e.read_only},null,8,["placeholder","modelValue","onUpdate:modelValue","disabled"]))])):y("",!0)]))),128))],2)],2))),128))])}}},_e=L(he,[["__scopeId","data-v-4ce3afb6"]]);export{_e as F,G as S};
//# sourceMappingURL=Fields-ea2aa0dd.js.map
