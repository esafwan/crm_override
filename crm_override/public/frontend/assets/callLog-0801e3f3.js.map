{"version":3,"file":"callLog-0801e3f3.js","sources":["../../../../frontend/src/components/Icons/DurationIcon.vue","../../../../frontend/src/utils/callLog.js"],"sourcesContent":["<template>\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g clip-path=\"url(#clip0_4750_5685)\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M10.4375 6C10.4375 8.45076 8.45076 10.4375 6 10.4375C3.54924 10.4375 1.5625 8.45076 1.5625 6C1.5625 3.54924 3.54924 1.5625 6 1.5625C8.45076 1.5625 10.4375 3.54924 10.4375 6ZM11.4375 6C11.4375 9.00305 9.00305 11.4375 6 11.4375C2.99695 11.4375 0.5625 9.00305 0.5625 6C0.5625 2.99695 2.99695 0.5625 6 0.5625C9.00305 0.5625 11.4375 2.99695 11.4375 6ZM9.00005 5.50004C9.27619 5.50004 9.50004 5.72391 9.50004 6.00005C9.50004 6.27619 9.27618 6.50004 9.00003 6.50004L6.25001 6.5C5.8358 6.49999 5.50003 6.16421 5.50002 5.75L5.5 3C5.5 2.72386 5.72385 2.5 6 2.5C6.27614 2.5 6.5 2.72385 6.5 3L6.50002 5.5L9.00005 5.50004Z\"\n        fill=\"currentColor\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_4750_5685\">\n        <rect width=\"12\" height=\"12\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n","import {\n  secondsToDuration,\n  dateFormat,\n  dateTooltipFormat,\n  timeAgo,\n} from '@/utils'\nimport { usersStore } from '@/stores/users'\nimport { contactsStore } from '@/stores/contacts'\n\nconst { getUser } = usersStore()\nconst { getContact, getLeadContact } = contactsStore()\n\nexport function getCallLogDetail(row, log) {\n  let incoming = log.type === 'Incoming'\n\n  if (row === 'caller') {\n    return {\n      label: incoming\n        ? getContact(log.from)?.full_name ||\n          getLeadContact(log.from)?.full_name ||\n          'Unknown'\n        : getUser(log.caller).full_name,\n      image: incoming\n        ? getContact(log.from)?.image || getLeadContact(log.from)?.image\n        : getUser(log.caller).user_image,\n    }\n  } else if (row === 'receiver') {\n    return {\n      label: incoming\n        ? getUser(log.receiver).full_name\n        : getContact(log.to)?.full_name ||\n          getLeadContact(log.to)?.full_name ||\n          'Unknown',\n      image: incoming\n        ? getUser(log.receiver).user_image\n        : getContact(log.to)?.image || getLeadContact(log.to)?.image,\n    }\n  } else if (row === 'duration') {\n    return {\n      label: secondsToDuration(log.duration),\n      icon: 'clock',\n    }\n  } else if (row === 'type') {\n    return {\n      label: log.type,\n      icon: incoming ? 'phone-incoming' : 'phone-outgoing',\n    }\n  } else if (row === 'status') {\n    return {\n      label: statusLabelMap[log.status],\n      color: statusColorMap[log.status],\n    }\n  } else if (['modified', 'creation'].includes(row)) {\n    return {\n      label: dateFormat(log[row], dateTooltipFormat),\n      timeAgo: __(timeAgo(log[row])),\n    }\n  }\n  return log[row]\n}\n\nexport const statusLabelMap = {\n  Completed: 'Completed',\n  Initiated: 'Initiated',\n  Busy: 'Declined',\n  Failed: 'Failed',\n  Queued: 'Queued',\n  Cancelled: 'Cancelled',\n  Ringing: 'Ringing',\n  'No Answer': 'Missed Call',\n  'In Progress': 'In Progress',\n}\n\nexport const statusColorMap = {\n  Completed: 'green',\n  Busy: 'orange',\n  Failed: 'red',\n  Initiated: 'gray',\n  Queued: 'gray',\n  Cancelled: 'gray',\n  Ringing: 'gray',\n  'No Answer': 'red',\n  'In Progress': 'blue',\n}\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","getUser","usersStore","getContact","getLeadContact","contactsStore","getCallLogDetail","row","log","incoming","_a","_b","_c","_d","_e","_f","_g","_h","secondsToDuration","statusLabelMap","statusColorMap","dateFormat","dateTooltipFormat","timeAgo"],"mappings":"uLAEIA,EAAU,CACV,WACA,YACA,QAAW,YACX,gDALF,SAAAC,EAAAC,EAAAC,EAAA,QAcMC,EAAA,EAAAC,EAPS,MAAuBL,EAAAG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAMhC,IAAA,CAAA,YAAA,uBAAA,EAAA,CAJAG,EAAmB,OAAA,CACnB,YAAU,UACV,YAAqmB,UACrmB,EAAA,ynBAOG,EAAA,EAAA,IADM,OAAA,KAAA,GADmC,WAAA,CAAA,GAAA,iBAAA,EAAA,CAAtCA,EAAU,OAAA,CAAC,WAAY,OAAY,0DCT3C,CAAE,QAAAC,CAAS,EAAGC,EAAY,EAC1B,CAAE,WAAAC,EAAY,eAAAC,CAAgB,EAAGC,EAAe,EAE/C,SAASC,EAAiBC,EAAKC,EAAK,qBACzC,IAAIC,EAAWD,EAAI,OAAS,WAE5B,OAAID,IAAQ,SACH,CACL,MAAOE,IACHC,EAAAP,EAAWK,EAAI,IAAI,IAAnB,YAAAE,EAAsB,cACtBC,EAAAP,EAAeI,EAAI,IAAI,IAAvB,YAAAG,EAA0B,YAC1B,UACAV,EAAQO,EAAI,MAAM,EAAE,UACxB,MAAOC,IACHG,EAAAT,EAAWK,EAAI,IAAI,IAAnB,YAAAI,EAAsB,UAASC,EAAAT,EAAeI,EAAI,IAAI,IAAvB,YAAAK,EAA0B,OACzDZ,EAAQO,EAAI,MAAM,EAAE,UACzB,EACQD,IAAQ,WACV,CACL,MAAOE,EACHR,EAAQO,EAAI,QAAQ,EAAE,YACtBM,EAAAX,EAAWK,EAAI,EAAE,IAAjB,YAAAM,EAAoB,cACpBC,EAAAX,EAAeI,EAAI,EAAE,IAArB,YAAAO,EAAwB,YACxB,UACJ,MAAON,EACHR,EAAQO,EAAI,QAAQ,EAAE,aACtBQ,EAAAb,EAAWK,EAAI,EAAE,IAAjB,YAAAQ,EAAoB,UAASC,EAAAb,EAAeI,EAAI,EAAE,IAArB,YAAAS,EAAwB,MAC1D,EACQV,IAAQ,WACV,CACL,MAAOW,EAAkBV,EAAI,QAAQ,EACrC,KAAM,OACP,EACQD,IAAQ,OACV,CACL,MAAOC,EAAI,KACX,KAAMC,EAAW,iBAAmB,gBACrC,EACQF,IAAQ,SACV,CACL,MAAOY,EAAeX,EAAI,MAAM,EAChC,MAAOY,EAAeZ,EAAI,MAAM,CACjC,EACQ,CAAC,WAAY,UAAU,EAAE,SAASD,CAAG,EACvC,CACL,MAAOc,EAAWb,EAAID,CAAG,EAAGe,CAAiB,EAC7C,QAAS,GAAGC,EAAQf,EAAID,CAAG,CAAC,CAAC,CAC9B,EAEIC,EAAID,CAAG,CAChB,CAEY,MAACY,EAAiB,CAC5B,UAAW,YACX,UAAW,YACX,KAAM,WACN,OAAQ,SACR,OAAQ,SACR,UAAW,YACX,QAAS,UACT,YAAa,cACb,cAAe,aACjB,EAEaC,EAAiB,CAC5B,UAAW,QACX,KAAM,SACN,OAAQ,MACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,QAAS,OACT,YAAa,MACb,cAAe,MACjB"}