{"version":3,"file":"CustomActions-d045e678.js","sources":["../../../../frontend/src/components/CustomActions.vue"],"sourcesContent":["<template>\n  <Button\n    v-if=\"normalActions.length && !isMobileView\"\n    v-for=\"action in normalActions\"\n    :label=\"action.label\"\n    @click=\"action.onClick()\"\n  >\n    <template v-if=\"action.icon\" #prefix>\n      <FeatherIcon :name=\"action.icon\" class=\"h-4 w-4\" />\n    </template>\n  </Button>\n  <Dropdown v-if=\"groupedActions.length\" :options=\"groupedActions\">\n    <Button icon=\"more-horizontal\" />\n  </Dropdown>\n  <div\n    v-if=\"groupedWithLabelActions.length && !isMobileView\"\n    v-for=\"g in groupedWithLabelActions\"\n    :key=\"g.label\"\n  >\n    <Dropdown :options=\"g.action\" v-slot=\"{ open }\">\n      <Button :label=\"g.label\">\n        <template #suffix>\n          <FeatherIcon\n            :name=\"open ? 'chevron-up' : 'chevron-down'\"\n            class=\"h-4\"\n          />\n        </template>\n      </Button>\n    </Dropdown>\n  </div>\n</template>\n\n<script setup>\nimport { computed, h } from 'vue'\nimport { Dropdown } from 'frappe-ui'\nimport { isMobileView } from '@/composables/settings'\n\nconst props = defineProps({\n  actions: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst normalActions = computed(() => {\n  return props.actions.filter((action) => !action.group)\n})\n\nconst groupedWithLabelActions = computed(() => {\n  let _actions = []\n\n  props.actions\n    .filter((action) => action.buttonLabel && action.group)\n    .forEach((action) => {\n      let groupIndex = _actions.findIndex((a) => a.label === action.buttonLabel)\n      if (groupIndex > -1) {\n        _actions[groupIndex].action.push(action)\n      } else {\n        _actions.push({\n          label: action.buttonLabel,\n          action: [action],\n        })\n      }\n    })\n  return _actions\n})\n\nconst groupedActions = computed(() => {\n  let _actions = []\n  let _normalActions = normalActions.value\n  if (isMobileView.value && _normalActions.length) {\n    _actions.push({\n      group: __('Actions'),\n      hideLabel: true,\n      items: _normalActions.map((action) => ({\n        label: action.label,\n        onClick: action.onClick,\n        icon: action.icon,\n      })),\n    })\n  }\n  if (isMobileView.value && groupedWithLabelActions.value.length) {\n    groupedWithLabelActions.value.map((group) => {\n      group.action.forEach((action) => _actions.push(action))\n    })\n  }\n  _actions = _actions.concat(\n    props.actions.filter((action) => action.group && !action.buttonLabel)\n  )\n  return _actions\n})\n</script>\n"],"names":["props","__props","normalActions","computed","action","groupedWithLabelActions","_actions","groupIndex","a","groupedActions","_normalActions","isMobileView","group"],"mappings":"8RAqCA,MAAMA,EAAQC,EAORC,EAAgBC,EAAS,IACtBH,EAAM,QAAQ,OAAQI,GAAW,CAACA,EAAO,KAAK,CACtD,EAEKC,EAA0BF,EAAS,IAAM,CAC7C,IAAIG,EAAW,CAAE,EAEjB,OAAAN,EAAM,QACH,OAAQI,GAAWA,EAAO,aAAeA,EAAO,KAAK,EACrD,QAASA,GAAW,CACnB,IAAIG,EAAaD,EAAS,UAAWE,GAAMA,EAAE,QAAUJ,EAAO,WAAW,EACrEG,EAAa,GACfD,EAASC,CAAU,EAAE,OAAO,KAAKH,CAAM,EAEvCE,EAAS,KAAK,CACZ,MAAOF,EAAO,YACd,OAAQ,CAACA,CAAM,CACzB,CAAS,CAET,CAAK,EACIE,CACT,CAAC,EAEKG,EAAiBN,EAAS,IAAM,CACpC,IAAIG,EAAW,CAAE,EACbI,EAAiBR,EAAc,MACnC,OAAIS,EAAa,OAASD,EAAe,QACvCJ,EAAS,KAAK,CACZ,MAAO,GAAG,SAAS,EACnB,UAAW,GACX,MAAOI,EAAe,IAAKN,IAAY,CACrC,MAAOA,EAAO,MACd,QAASA,EAAO,QAChB,KAAMA,EAAO,IACrB,EAAQ,CACR,CAAK,EAECO,EAAa,OAASN,EAAwB,MAAM,QACtDA,EAAwB,MAAM,IAAKO,GAAU,CAC3CA,EAAM,OAAO,QAASR,GAAWE,EAAS,KAAKF,CAAM,CAAC,CAC5D,CAAK,EAEHE,EAAWA,EAAS,OAClBN,EAAM,QAAQ,OAAQI,GAAWA,EAAO,OAAS,CAACA,EAAO,WAAW,CACrE,EACME,CACT,CAAC"}