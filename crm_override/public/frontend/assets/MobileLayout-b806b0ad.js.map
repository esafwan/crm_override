{"version":3,"file":"MobileLayout-b806b0ad.js","sources":["../../../../frontend/src/components/Mobile/MobileSidebar.vue"],"sourcesContent":["<template>\n  <TransitionRoot :show=\"sidebarOpened\">\n    <Dialog as=\"div\" @close=\"sidebarOpened = false\" class=\"fixed inset-0 z-40\">\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition ease-in-out duration-200 transform\"\n        enter-from=\"-translate-x-full\"\n        enter-to=\"translate-x-0\"\n        leave=\"transition ease-in-out duration-200 transform\"\n        leave-from=\"translate-x-0\"\n        leave-to=\"-translate-x-full\"\n      >\n        <div\n          class=\"relative z-10 flex h-full w-[260px] flex-col justify-between border-r bg-gray-50 transition-all duration-300 ease-in-out\"\n        >\n          <div><UserDropdown class=\"p-2\" /></div>\n          <div class=\"flex-1 overflow-y-auto\">\n            <div class=\"mb-3 flex flex-col\">\n              <SidebarLink\n                id=\"notifications-btn\"\n                :label=\"__('Notifications')\"\n                :icon=\"NotificationsIcon\"\n                :to=\"{ name: 'Notifications' }\"\n                class=\"relative mx-2 my-0.5\"\n              >\n                <template #right>\n                  <Badge\n                    v-if=\"notificationsStore().unreadNotificationsCount\"\n                    :label=\"notificationsStore().unreadNotificationsCount\"\n                    variant=\"subtle\"\n                  />\n                </template>\n              </SidebarLink>\n            </div>\n            <div v-for=\"view in allViews\" :key=\"view.label\">\n              <Section\n                :label=\"view.name\"\n                :hideLabel=\"view.hideLabel\"\n                :isOpened=\"view.opened\"\n              >\n                <template #header=\"{ opened, hide, toggle }\">\n                  <div\n                    v-if=\"!hide\"\n                    class=\"ml-2 mt-4 flex h-7 w-auto cursor-pointer gap-1.5 px-1 text-base font-medium text-gray-600 opacity-100 transition-all duration-300 ease-in-out\"\n                    @click=\"toggle()\"\n                  >\n                    <FeatherIcon\n                      name=\"chevron-right\"\n                      class=\"h-4 text-gray-900 transition-all duration-300 ease-in-out\"\n                      :class=\"{ 'rotate-90': opened }\"\n                    />\n                    <span>{{ __(view.name) }}</span>\n                  </div>\n                </template>\n                <nav class=\"flex flex-col\">\n                  <SidebarLink\n                    v-for=\"link in view.views\"\n                    :icon=\"link.icon\"\n                    :label=\"__(link.label)\"\n                    :to=\"link.to\"\n                    class=\"mx-2 my-0.5\"\n                  />\n                </nav>\n              </Section>\n            </div>\n          </div>\n        </div>\n      </TransitionChild>\n      <TransitionChild\n        as=\"template\"\n        enter=\"transition-opacity ease-linear duration-200\"\n        enter-from=\"opacity-0\"\n        enter-to=\"opacity-100\"\n        leave=\"transition-opacity ease-linear duration-200\"\n        leave-from=\"opacity-100\"\n        leave-to=\"opacity-0\"\n      >\n        <DialogOverlay class=\"fixed inset-0 bg-gray-600 bg-opacity-50\" />\n      </TransitionChild>\n    </Dialog>\n  </TransitionRoot>\n</template>\n<script setup>\nimport {\n  TransitionRoot,\n  TransitionChild,\n  Dialog,\n  DialogOverlay,\n} from '@headlessui/vue'\nimport Section from '@/components/Section.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport PinIcon from '@/components/Icons/PinIcon.vue'\nimport UserDropdown from '@/components/UserDropdown.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport OrganizationsIcon from '@/components/Icons/OrganizationsIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NotificationsIcon from '@/components/Icons/NotificationsIcon.vue'\nimport SidebarLink from '@/components/SidebarLink.vue'\nimport { viewsStore } from '@/stores/views'\nimport { notificationsStore } from '@/stores/notifications'\nimport { computed, h } from 'vue'\nimport { mobileSidebarOpened as sidebarOpened } from '@/composables/settings'\n\nconst { getPinnedViews, getPublicViews } = viewsStore()\n\nconst links = [\n  {\n    label: 'Leads',\n    icon: LeadsIcon,\n    to: 'Leads',\n  },\n  {\n    label: 'Deals',\n    icon: DealsIcon,\n    to: 'Deals',\n  },\n  {\n    label: 'Contacts',\n    icon: ContactsIcon,\n    to: 'Contacts',\n  },\n  {\n    label: 'Organizations',\n    icon: OrganizationsIcon,\n    to: 'Organizations',\n  },\n  {\n    label: 'Notes',\n    icon: NoteIcon,\n    to: 'Notes',\n  },\n  {\n    label: 'Tasks',\n    icon: TaskIcon,\n    to: 'Tasks',\n  },\n  {\n    label: 'Call Logs',\n    icon: PhoneIcon,\n    to: 'Call Logs',\n  },\n  {\n    label: 'Email Templates',\n    icon: Email2Icon,\n    to: 'Email Templates',\n  },\n]\n\nconst allViews = computed(() => {\n  let _views = [\n    {\n      name: 'All Views',\n      hideLabel: true,\n      opened: true,\n      views: links,\n    },\n  ]\n  if (getPublicViews().length) {\n    _views.push({\n      name: 'Public views',\n      opened: true,\n      views: parseView(getPublicViews()),\n    })\n  }\n\n  if (getPinnedViews().length) {\n    _views.push({\n      name: 'Pinned views',\n      opened: true,\n      views: parseView(getPinnedViews()),\n    })\n  }\n  return _views\n})\n\nfunction parseView(views) {\n  return views.map((view) => {\n    return {\n      label: view.label,\n      icon: getIcon(view.route_name, view.icon),\n      to: {\n        name: view.route_name,\n        params: { viewType: view.type || 'list' },\n        query: { view: view.name },\n      },\n    }\n  })\n}\n\nfunction getIcon(routeName, icon) {\n  if (icon) return h('div', { class: 'size-auto' }, icon)\n\n  switch (routeName) {\n    case 'Leads':\n      return LeadsIcon\n    case 'Deals':\n      return DealsIcon\n    case 'Contacts':\n      return ContactsIcon\n    case 'Organizations':\n      return OrganizationsIcon\n    case 'Notes':\n      return NoteIcon\n    case 'Call Logs':\n      return PhoneIcon\n    default:\n      return PinIcon\n  }\n}\n</script>\n"],"names":["getPinnedViews","getPublicViews","viewsStore","links","LeadsIcon","DealsIcon","ContactsIcon","OrganizationsIcon","NoteIcon","TaskIcon","PhoneIcon","Email2Icon","allViews","computed","_views","parseView","views","view","getIcon","routeName","icon","h","PinIcon"],"mappings":"m5CA2GA,KAAM,CAAE,eAAAA,EAAgB,eAAAC,CAAgB,EAAGC,EAAY,EAEjDC,EAAQ,CACZ,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,WACP,KAAMC,EACN,GAAI,UACL,EACD,CACE,MAAO,gBACP,KAAMC,EACN,GAAI,eACL,EACD,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,QACP,KAAMC,EACN,GAAI,OACL,EACD,CACE,MAAO,YACP,KAAMC,EACN,GAAI,WACL,EACD,CACE,MAAO,kBACP,KAAMC,EACN,GAAI,iBACL,CACH,EAEMC,EAAWC,EAAS,IAAM,CAC9B,IAAIC,EAAS,CACX,CACE,KAAM,YACN,UAAW,GACX,OAAQ,GACR,MAAOX,CACR,CACF,EACD,OAAIF,EAAgB,EAAC,QACnBa,EAAO,KAAK,CACV,KAAM,eACN,OAAQ,GACR,MAAOC,EAAUd,GAAgB,CACvC,CAAK,EAGCD,EAAgB,EAAC,QACnBc,EAAO,KAAK,CACV,KAAM,eACN,OAAQ,GACR,MAAOC,EAAUf,GAAgB,CACvC,CAAK,EAEIc,CACT,CAAC,EAED,SAASC,EAAUC,EAAO,CACxB,OAAOA,EAAM,IAAKC,IACT,CACL,MAAOA,EAAK,MACZ,KAAMC,EAAQD,EAAK,WAAYA,EAAK,IAAI,EACxC,GAAI,CACF,KAAMA,EAAK,WACX,OAAQ,CAAE,SAAUA,EAAK,MAAQ,MAAQ,EACzC,MAAO,CAAE,KAAMA,EAAK,IAAM,CAC3B,CACF,EACF,CACH,CAEA,SAASC,EAAQC,EAAWC,EAAM,CAChC,GAAIA,EAAM,OAAOC,EAAE,MAAO,CAAE,MAAO,WAAa,EAAED,CAAI,EAEtD,OAAQD,EAAS,CACf,IAAK,QACH,OAAOf,EACT,IAAK,QACH,OAAOC,EACT,IAAK,WACH,OAAOC,EACT,IAAK,gBACH,OAAOC,EACT,IAAK,QACH,OAAOC,EACT,IAAK,YACH,OAAOE,EACT,QACE,OAAOY,CACV,CACH"}